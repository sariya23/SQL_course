# Типы данных

## Строковые типы данных

Строки бывают фиксированной или переменной длины. Есть 2 основных строковых типа данных: `CHAR` и `VARCHAR`

- `CHAR(n)` , где `n` число в диапазоне от 0 до 255, представляющие допустимую длину строки. Хранит строку **фиксированной длины**. Если строка имеет меньшую длину, чем указано, то заполняется пробелами
- `VARCHAR(n)` , где `n` число в диапазоне от 0 до 65535, представляющее допустимую длину строки. Хранит строку **переменной длины**. В отличии от `CHAR` не заполняется пробелами, если длина меньше чем `n`

MySQL поддерживает два режима поведения при превышении указанной длины строки: строгий и нестрогий. При нестрогом режиме если длина строки превосходит значение `n`, указанное в `CHAR(n)` или `VARCHAR(n)`, то строка урезается до допустимой длины. В таблице ниже приведены примеры хранения строк разной длины для `CHAR(4)` и `VARCHAR(4)`.

| Строка | CHAR(4) | VARCHAR(4) |
| --- | --- | --- |
| '' | '    ' | '' |
| 'bee' | 'bee ' | 'bee' |
| 'geek' | 'geek' | 'geek' |
| 'beegeek' | 'beeg' | 'beeg' |

При строгом режиме вместо урезания строки возникает ошибка. MySQL по умолчанию использует строгий режим.

Так же есть и другие строковые типы данных

| Тип | Размер (в байтах) | Максимальное количество символов |
| --- | --- | --- |
| TINYTEXT | 255 | 255 |
| TEXT | 65535 | 2^16 - 1 |
| MEDIUMTEXT | 16777215 | 2^24 - 1 |
| LONGTEXT | 4294967295 | 2^32 - 1 |

Для этих типов не указывается максимальная длина, она ограничивается только самим типом данных.

## Числовые типы данных

### Целые числа

Для создания без знакового числа нужно указать после типа ключевое слово

`UNSIGNED`

| Тип | Размер (в байтах) | Диапазон signed | Диапазон unsigned |
| --- | --- | --- | --- |
| TINYINT | 1 | [-128; 127] | [0; 255] |
| SMALLINT | 2 | [-2^15; 2^15 - 1] | [0; 2^16 - 1] |
| MEDIUMINT | 3 | [-2^23; 2^23 - 1] | [0; 2^24 - 1] |
| INT | 4 | [-2^31; 2^31 - 1] | [0; 2^32 - 1] |
| BIGINT | 8 | [-2^63; 2^63 - 1] | [0; 2^64 - 1] |

### Числа с плавающей точкой

**Числа с плавающей точкой** хранят приблизительные значения. Они не резервируют определенное количество бит для целочисленной или дробной частей, поэтому у всех значений в таблице количество цифр до и после запятой будет разным.

| Тип | Размер (в байтах) | Диапазон |
| --- | --- | --- |
| FLOAT | 4 | [1.17 * 10^-38; 3.4 * 10^38] |
| DOUBLE | 8 | [2.2 * 10^-308; 1.7 * 10^308] |

### Числа с фиксированной точкой

**Числа с фиксированной точкой** используются для сохранения заданной точности. Такие числа резервируют определенное количество бит для целочисленной и дробной частей. Независимо от того, насколько большое или маленькое число, оно всегда будет использовать одно и то же количество бит для сохранения каждой части.

В MySQL для хранения чисел с фиксированной точкой используются типы `DECIMAL(M, D)` и `NUMERIC(M, D)`. Эти типы являются синонимами, поэтому можно использовать любой из них. Диапазон значений задается параметрами `M` и `D`, где `M` – общее количество цифр, `D` – количество цифр, используемое для дробной части. Значение параметра `M` ограничено диапазоном `[1; 65]`.

Например, `DECIMAL(5, 2)` означает, что в поле могут храниться числа, имеющие максимум `5` цифр, причем `2` из них отведены под десятичную часть. Другими словами, в этом поле могут храниться значения в диапазоне `[-999.99; 999.99]`.

## Типы данных даты и времени

| Тип | Формат | Диапазон значений | Размер (в байтах) |
| --- | --- | --- | --- |
| DATE | YYYY-MM-DD | 1000-01-01 – 9999-12-31 | 3 |
| TIME | HH:MM:SS | 00:00:00 – 23:59:59 | 3 |
| DATETIME | YYYY-MM-DD HH:MM:SS | 1000-01-01 00:00:00 – 9999-12-31 23:59:59 | 8 |
| TIMESTAMP | YYYY-MM-DD HH:MM:SS | 1970-01-01 00:00:00 – 2038-01-09 03:14:07 | 4 |
| YEAR | YYYY | 1901 – 2155 | 1 |

### Типы `DATETIME` и `TIMESTAMP`

`DATETIME` хранит значения от `1000-01-01 00:00:00` до `9999-12-31 23:59:59` включительно и не зависит от временной зоны. Он всегда отображается ровно в таком виде, в котором был установлен и в котором хранится в базе данных. Другими словами, при изменении часового пояса отображение времени не изменится.

`TIMESTAMP` хранит информацию о том, сколько прошло секунд с начала эпохи, то есть с `1970-01-01 00:00:00`. При создании записи в поле, использующем этот тип данных, значение сохраняется по **нулевому** часовому поясу, а при выборке из базы данных отображается с учетом **текущего** часового пояса, который задается в настройках операционной системы, где работает MySQL, в глобальных настройках MySQL или в конкретной сессии.

### Способ задания значений

Значения полей, в которых используются типы данных `DATE, DATETIME` и `TIMESTAMP`, можно задать одним из следующих способов:

- строка в формате `YYYY-MM-DD HH:MM:SS` или `YY-MM-DD HH:MM:SS` для указания даты и времени
- строка в формате `YYYY-MM-DD` или в формате `YY-MM-DD` для указания только даты

При указании даты (тип данных `DATE`) допускается использовать любой знак пунктуации в качестве разделителя между частями даты. Также допустимо задавать дату и без разделительного знака. Например, следующие записи:

```
2023-06-14
2023.06.14
2023/06/14
20230614
230614
2023.06/14
2023/06.14
```

— абсолютно идентичны с точки зрения MySQL, однако при создании будут преобразованы в формат `2023-06-14`, поэтому будут храниться и отображаться именно в таком формате.

## Тип данных `NULL`

Тип данных `NULL` — это специальное значение, которое используется в MySQL для обозначения отсутствия данных